"use strict";const data={prefix:"Et.he%20*0%23%20",space:"%20",hashtag:"%23"};let tests=[{name:"System Reboot",code:"995*0%23%"},{name:"2W Reboot",code:"996*0%23%"},{name:"FW Unit",code:"33*"},{name:"FW Speaker",code:"90033*"},{name:"Alarm",code:"9009901"},{name:"Dagelijkse_test",code:"9009903"},{name:"Voeding en Batterij",code:"37*%2038*"},{name:"Signaalsterkte",code:"244"},{name:"Provider",code:"700*"}],user={name:localStorage.getItem("user-name"),tel:localStorage.getItem("user-tel"),sign:localStorage.getItem("sign")},unit={tel:sessionStorage.getItem("unit-tel"),id:sessionStorage.getItem("unit-id"),model:sessionStorage.getItem("unit-model")},presets=[{name:"setup",code:[`233${unit.id}`,`22401${unit.id}`,"2710","500335",tests[5].code]}];function createCode(e){let t="";t=data.prefix,console.log(data.prefix);for(let n=0;n<e.length;n++)console.log(e[n]),t=t+e[n]+data.space;return console.log(t),t}function createPreset(){let e=document.querySelector("#presets");for(let t=0;t<presets.length;t++){let n=createCode(presets[t].code);console.log(n);let o=document.createElement("a");o.href=`sms:${unit.tel};?&body=${n}`,console.log(o.href),o.innerHTML=presets[t].name,e.appendChild(o)}}function checkSave(){let e=document.querySelector("#user"),t=document.querySelector("#register");"true"===user.sign&&(e.classList.add("sign"),e.innerHTML=""),null!==unit.id&&t.classList.add("sign")}function importData(){let e=document.querySelector("#id_unit"),t=document.querySelector("#tel_unit"),n=document.querySelector("#username");null!==unit.id&&(e.innerHTML=unit.id,t.innerHTML=unit.tel),null!==user.name&&(n.innerHTML=user.name)}function getForm(e){let t,n=e,o=[];t=document.forms[`${n}`];for(let e=0;e<t.length;e++){if("button"===t[e].type||""===t[e].value){if("button"!==t[e].type){console.log(t[e].id+" is leeg."),o="";break}return o}console.log(t[e].value),o.push({value:t[e].value,id:t[e].id,type:t[e].type})}}function register(e){let t,n;if(t=getForm(e),void 0!==t){for(let e=0;e<t.length;e++)n=t[e],!0===n.id.includes("user")&&null===user.sign?localStorage.setItem(n.id,n.value):!0===n.id.includes("unit")&&sessionStorage.setItem(n.id,n.value);null!==user.name&&null!==user.tel&&localStorage.setItem("sign",!0)}}let bttn=document.querySelector("#reg-bttn");bttn.addEventListener("click",(e=>{e.preventDefault(),register("reg-form")})),checkSave(),importData(),createPreset();